<!-- *ngIf="admindata.isAdmin" -->
<div class="business-banner-top post-box-shadow">
  <div class="business-banner">
    <div class="banner-shadow"></div>
    <img class="banner-img" [ngStyle]="{ 'background-image': 'url(' + bannerimg.src + ')' }" />
    <div class="banner-overlay">
      <div class="banner-edit" *ngIf="CisAdmin || CisSuperAdmin">
        <input type="file" accept="image/jpg, image/jpeg, image/png" #myFileInput
          (change)="fileChangeEvent($event, template)" (click)="myFileInput.value = null" />
        <div class="image-upload"></div>
        <i class="fa fa-camera" aria-hidden="true"></i>
      </div>
      <div class="banner-profile-image">
        <img *ngIf="communitydata?.logo != null" src="{{ businesslogs.src }}"
          onerror="this.src='assets/icon/comm.png';" />
        <img *ngIf="communitydata?.logo === null" src="assets/icon/comm.png" alt="" srcset="" />
      </div>
    </div>
  </div>

  <div class="row business-details">
    <div>
      <div class="col-md-8" style="word-wrap: break-word">
        <!-- <p class="business-name" *ngIf="communityName!=undefined" data-toggle="tooltip" data-placement="top"
          title="{{ communityName }}">
          <strong>Community Page : </strong> {{ communityName | truncate: 25 }}
          (
          <span class="common-font-14" *ngIf="communityTypes">Private</span>
          <span class="common-font-14" *ngIf="!communityTypes">Public</span>
          )
        </p> -->


        <div class="qwc">
          <strong class="bus-hov business-name" [routerLink]="['/landingPage/communityList']">Community Page</strong>
        <p *ngIf="communityName!=undefined" class="business-name break-word ellipse1" data-toggle="tooltip" data-placement="top"
          title="{{communityName}}"> 
          <strong>:</strong>
           {{communityName }} 
           <span class="fn-18 ergm"  *ngIf="communityTypes && communityName!=undefined && communityName.length<=28">(Private)</span>
           <span class="fn-18 ergm" *ngIf="!communityTypes && communityName!=undefined && communityName.length<=28">(Public)</span>
          </p>
          <span class="fn-18 ergm"  *ngIf="communityTypes && communityName!=undefined && communityName.length>28">(Private)</span>
           <span class="fn-18 ergm" *ngIf="!communityTypes && communityName!=undefined && communityName.length>28">(Public)</span>
           
           
        </div>

        <div class="business-tag">
          <p data-toggle="tooltip" *ngIf="communitytag!=undefined" data-placement="top" title="{{ communitytag }}">
            {{ communitytag | truncate: 30 }} |
          </p>

          <p *ngIf="!communityTypes">
            <a (click)="members()">
              {{ getcount }} Members
            </a>
          </p>

          <p *ngIf="communityTypes && (isJoined === 'true' || isAdmin === 'true' || isSuperAdmin === 'true')" >
            <a (click)="members()">
             {{ getcount }} Members
            </a>
          </p>

          <p *ngIf="communityTypes && isJoined === 'false' && isAdmin === 'false' && isSuperAdmin === 'false'" >
              {{ getcount }} Members
          </p>


        </div>
      </div>
      <div class="col-md-4">
        <div class="row mt-8px right">
          <button type="button" *ngIf="CisAdmin" class="btn primary-btn btn-sm margin-right-20"
            (click)="adminview(true)">
            View as Admin
          </button>
          <button type="button" *ngIf="viewasmembers" class="btn primary-btn btn-sm margin-right-20"
            (click)="viewasmember(false)">
            View as Member
          </button>
          <button type="button" *ngIf="
              !CisAdmin &&
              !CisSuperAdmin &&
              !cisJoined &&
              joinStatus != 'REQUEST PENDING' &&
              joinStatus != 'INVITE_REQUEST_RECEVIED'
            " (click)="addJoin()" class="btn primary-btn btn-sm">
            Join
          </button>
          <button type="button" *ngIf="
              !CisAdmin &&
              !CisSuperAdmin &&
              cisJoined &&
              joinStatus != 'REQUEST PENDING' &&
              joinStatus != 'INVITE_REQUEST_RECEVIED'
            " (click)="removeJoin()" class="btn primary-btn btn-sm">
            Leave Community
          </button>
          <button type="button" *ngIf="!CisAdmin && !CisSuperAdmin" class="mr-10 btn primary-btn btn-sm mar-10"
            (click)=" mgsBtn()">
            Message
          </button>
          <!-- <button type="button"   *ngIf="!CisAdmin && !CisSuperAdmin && !cisJoined&&joinStatus=='REQUEST PENDING'"     class="btn primary-btn btn-sm m-r-10"> Request Sent </button> -->
          <button type="button" *ngIf="
              !CisAdmin &&
              !CisSuperAdmin &&
              !cisJoined &&
              joinStatus == 'REQUEST PENDING'
            " (click)="cancelrequest()" class="btn primary-btn btn-sm">
            Cancel Request
          </button>
          <button type="button" *ngIf="
              !CisAdmin &&
              !CisSuperAdmin &&
              !cisJoined &&
              joinStatus == 'INVITE_REQUEST_RECEVIED'
            " (click)="acceptInvite()" class="btn primary-btn btn-sm m-r-10">
            Accept Invite
          </button>
          <button type="button" *ngIf="
              !CisAdmin &&
              !CisSuperAdmin &&
              !cisJoined &&
              joinStatus == 'INVITE_REQUEST_RECEVIED'
            " (click)="cancelinvite()" class="btn primary-btn btn-sm">
            Cancel Invite
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #template>
  <!-- <div class="modal-header">
       <h5 class="modal-title pull-left">Banner Image </h5>
       <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
         <span aria-hidden="true">&times;</span>
       </button>
     </div> -->
  <!-- <button type="button" style="font-size: 31px; padding-right: 17px; padding-top: 7px" class="close pull-right"
    aria-label="Close" (click)="closePhoto()">
    <span aria-hidden="true">&times;</span>
  </button>
  <h5 style="margin: 10px 10px 10px 10px; padding-top: 10px">Banner Image</h5>
  <hr /> -->


  <div class="modal-content">

    <div style="padding: 14px 14px !important;">
      <label>Banner Image</label>
      <button type="button" class="close pull-right" aria-label="Close" (click)="closePhoto()">
        <span style="font-size: 2.5rem;" aria-hidden="true">&times;</span>
      </button>
    </div>
    <hr style="margin: 0px !important; padding: 0px !important">
    <div class="modal-body">
      <image-cropper [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true" [aspectRatio]="4.5 / 1"
        format="jpeg" (imageCropped)="imageCropped($event)" (cropperReady)="cropperReady()"
        (loadImageFailed)="loadImageFailed()"></image-cropper>
    </div>

    <div class="modal-footer" style="border-radius: 5px;">
      <button class="btn primary-btn btn-sm" (click)="imageLoaded()">Apply</button>
    </div>
  </div>



</ng-template>