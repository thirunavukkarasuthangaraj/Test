import { ApiService } from './../../../services/api.service';
import { Component, ElementRef, HostListener, OnInit, ViewChild } from '@angular/core';
declare var $: any;

@Component({
  selector: 'app-index-layout',
  templateUrl: './index-layout.component.html',
  styleUrls: ['./index-layout.component.scss']
})
export class IndexLayoutComponent implements OnInit {
  userDetailsLanding: any = [];
  userId;
  divHeight
  //Dev Code
  @ViewChild('landingside1', {static: false}) menuElement: ElementRef;
  @ViewChild('landingside2', {static: false}) menuElement1: ElementRef;

  landingsidesticky1: boolean = false;
  landingsidesticky2: boolean = false;
  csshide:Boolean=false
  elementPosition: any;

  constructor(private api: ApiService) { }

  ngOnInit() {

    if(window.innerHeight==500 && window.innerWidth==1093){
      this.csshide=true;
    } else if(window.innerHeight>500 && window.innerWidth>1093){
      this.csshide=true;
    } else if(window.innerHeight<500 && window.innerWidth<1093){
      this.csshide=true;
    }

    this.userId = localStorage.getItem('userId');
   }

  ngAfterViewInit(){
    window.scrollTo(0, 0);
   // this.elementPosition = this.menuElement.nativeElement.offsetTop;
   }

  @HostListener('window:scroll')
    handleScroll(){
      const windowScroll = window.pageYOffset;
      if(windowScroll >= 24){
        this.landingsidesticky1 = true;
        this.landingsidesticky2 = true;

      } else {
        this.landingsidesticky1 = false;
        this.landingsidesticky2 = false;
      }
    }

    @HostListener("window:resize")
    onResize() {
         if(window.innerHeight==500 && window.innerWidth==1093){
          //this.landingsidesticky1 = false;
          //this.landingsidesticky2 = true;
          this.csshide=true;
        }else  if(window.innerHeight>500 && window.innerWidth>1093){
          //this.landingsidesticky1 = false;
         // this.landingsidesticky2 = true;
          this.csshide=true;
        }else  if(window.innerHeight<500 && window.innerWidth<1093){
          this.csshide=false;
        }
     }

}
