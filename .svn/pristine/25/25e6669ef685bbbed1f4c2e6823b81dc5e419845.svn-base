<div class="">
  <div class="col-sm-12 padding-left-0 padding-right-5">
    <div class="hpanel margin-bottom-5">
      <div class="panel-heading hbuilt" style=" border-radius: 5px;">

        <div class="panel-tools">
          <div
            *ngIf="values.adminviewnavigation && communityhome?.isSuperAdmin || values.adminviewnavigation && communityhome?.isAdmin"
            class="pull-right btn-group">
            <div class="col-sm-2" title="Edit about company" (click)="editAbout()">
              <button class="edit-pencil"><span>
                  <i class="fas fa-pencil-alt editBG icon-over"></i>
                </span></button>
            </div>
          </div>
        </div>
        <!-- <label *ngIf="communityhome?.isSuperAdmin || communityhome?.isAdmin" class="control-label padding-top-0 margin-bottom-5 margin-top-5"> Brief about your Community </label> -->
        <label class="control-label padding-top-0 margin-bottom-5 margin-top-5"> Brief about Community </label>
      </div>

      <div class="panel-body" style="word-wrap: break-word">
        <div *ngIf="aboutCommunity === null || aboutCommunity === undefined || aboutCommunity==='' ">
          <p>No details have been provided here yet. </p>
          <!-- <div *ngIf="communityhome?.isSuperAdmin || communityhome?.isAdmin">
            <p>Please write something of your Community</p>
          </div> -->
          <!-- <div *ngIf="!communityhome?.isSuperAdmin || !communityhome?.isAdmin">
            <p>The admins haven't added anything here.</p>
          </div> -->
        </div>
        <div *ngIf="aboutCommunity!=undefined&&aboutCommunity!=null&&aboutCommunity!=''">
          <div [ngxSummernoteView]="aboutCommunity" class="brakeCode"></div>
        </div>

      </div>
    </div>
    <div class="hpanel margin-bottom-5">
      <div class="panel-heading hbuilt" style=" border-radius: 5px;">
        <div class="panel-tools">
          <div
            *ngIf="values.adminviewnavigation && communityhome?.isSuperAdmin  ||  values.adminviewnavigation && communityhome?.isAdmin"
            class="pull-right btn-group">
            <div class="col-sm-2" title="Edit about company" (click)="editBasic(basicTemplate)">
              <button class="edit-pencil"><span>
                  <i class="fas fa-pencil-alt editBG icon-over"></i>
                </span></button>
            </div>
          </div>



        </div>
        <label class="control-label padding-top-0 margin-bottom-5 margin-top-5">Community Details</label>
      </div>

      <div class="panel-body" style="word-wrap: break-word">
        <div class="row form-group">
          <div class="col-sm-4">Community Name</div>
          <div class="col-sm-8">{{communityName}}</div>
        </div>

        <div class="row form-group">
          <div class="col-sm-4">Tag Line</div>
          <div class="col-sm-8">
            <div *ngIf="communitydetails?.tagLine != ''">
              {{tagLine}}
            </div>
            <div *ngIf="communitydetails?.tagLine?.length == 0">
              none
            </div>
          </div>
        </div>

        <div class="row form-group">
          <div class="col-sm-4">Community Type</div>
          <div class="col-sm-8">{{communityType}}</div>
        </div>
        <div class="row form-group">
          <div class="col-sm-4">Year Started</div>
          <div class="col-sm-8">{{yearStarted}}</div>
        </div>
        <div class="row form-group">
          <div class="col-sm-4">Members</div>
          <div class="col-sm-8">{{memberslength}}</div>
        </div>
        <div class="row form-group">
          <div class="col-sm-4">#Tags</div>
          <div class="col-sm-8" *ngIf="tags?.length!=0">{{tags}}</div>
          <div class="col-sm-8" *ngIf="tags?.length==0"> None </div>

        </div>
      </div>
    </div>
    <div class="hpanel margin-bottom-5" style="height: 50vh;">
      <div class="panel-heading hbuilt">
        <div class="panel-tools">
          <div
            *ngIf="values.adminviewnavigation && communityhome?.isSuperAdmin  ||  values.adminviewnavigation && communityhome?.isAdmin"
            class="pull-right btn-group">
            <div class="col-sm-2" title="Edit about company" (click)="editGuidelined()">
              <button class="edit-pencil"><span>
                  <i class="fas fa-pencil-alt editBG icon-over"></i>
                </span></button>
            </div>
          </div>
        </div>
        <label class="control-label padding-top-0 margin-bottom-5 margin-top-5"> Community Guidelines</label>

      </div>


      <div class="panel-body" style="word-wrap: break-word">
        <div *ngIf="guidelines === null || guidelines == undefined || guidelines =='' ">
          <!-- <div *ngIf="communityhome?.isSuperAdmin || communityhome?.isAdmin">
            <p>Please tell us about your Community Guidelines</p>
          </div> -->
          <!-- <div *ngIf="!communityhome?.isSuperAdmin || !communityhome?.isAdmin">
            <p>The admins haven't added anything here</p>
          </div> -->
          <p>No Community Guidelines have been provided yet.</p>
        </div>
        <div *ngIf="guidelines != null && guidelines != undefined && guidelines!=''" class="row"
          style=" padding-left: 18px;">
          <div [ngxSummernoteView]="guidelines" class="brakeCode"></div>

        </div>

      </div>
    </div>
  </div>
</div>

<ng-template #basicTemplate>
  <form [formGroup]="basicForm" class="form-horizontal">
    <div class="hpanel">
      <div class="panel-heading">
        <div class="row panel-tools">
          <button type="button" class="close pull-left" aria-label="Close" (click)="modalRef.hide()">
            <span style="padding-right: 22px;font-size: 26px;" aria-hidden="true">&times;</span>
          </button>
        </div>
        <label class="control-label" style="margin-left: 8px;">Community Details</label>
      </div>
      <div class="panel-body">
        <div class="app-form">
          <div class="form-group row">
            <label for="communityName" class="col-sm-4 control-label required-field font-light">Community Name</label>
            <div class="col-sm-7">
              <input type="text" class="form-control input-sm" placeholder="Community Name"
                formControlName="communityName" />
              <div *ngIf="submit && basicControls.communityName.invalid || basicControls.communityName.invalid &&
                   (basicControls.communityName.dirty || basicControls.communityName.touched)" class="error-msg">
                <div *ngIf="basicControls.communityName.errors.required"> Community Name is required</div>

              </div>
              <div *ngIf="basicControls.communityName.invalid" class="error-msg">
                <div *ngIf="basicControls.communityName.errors.maxlength"> Please enter below 100 characters</div>
              </div>
            </div>
          </div>
          <div class="form-group row">
            <label for="tagLine" class="col-sm-4 control-label font-light">Tag Line</label>
            <div class="col-sm-7">
              <input type="text" class="form-control input-sm" placeholder="Tag Line" formControlName="tagLine" />
              <div *ngIf="basicControls.tagLine.invalid" class="error-msg">
                <div *ngIf="basicControls.tagLine.errors.maxlength"> Please enter below 140 characters</div>
              </div>
            </div>
          </div>

          <div class="form-group row">
            <label for="communityType" class="col-sm-4 control-label font-light">Community Type</label>
            <div class="col-sm-7">
              <div class="row" style="position: relative; top: -0.5rem;">
                <div class="col-sm-3">
                  <!-- <label class="container2 font-light">Private
                                <input type="radio" name="communityType" formControlName="communityType"
                                 id="cv" [value]="true">
                                 <span class="checkmark"></span>
                                </label> -->

                  <div class="custom-checkbox">
                    <label class="checkbox-label font-normal" style="text-align: center;"> Private
                      <input [value]="true" type="radio" formControlName="communityType" name="communityType"
                        (click)="changetype('Private',$event)">
                      <span title="Check Working Days" class="checkmark"></span>
                    </label>
                  </div>
                </div>
                <div class="col-sm-3" style="padding-left: 33px;">
                  <!-- <label class="container2 font-light">Public
                                <input type="radio" name="communityType" formControlName="communityType"
                                 id="dsf34" [value]="false">
                                 <span class="checkmark"></span>
                                </label> -->
                  <div class="custom-checkbox">
                    <label class="checkbox-label font-normal" style="text-align: center;"> Public
                      <input [value]="false" type="radio" formControlName="communityType" name="communityType"
                        (click)="changetype('Public',$event)">
                      <span title="Check Working Days" class="checkmark"></span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="form-group row">
            <label for="businessLogo" class="col-sm-4 control-label font-light">Community Logo Image</label>
            <div class="col-sm-7">
              <input formControlName="banner" accept="image/jpg, image/jpeg, image/png" type="file" id="communityLogo"
                class="form-control  fs-file" (change)="fileChangeEvent($event,template)" #myFileInput
                (click)="myFileInput.value=null" />
              <ng-template #template>
                <!-- <button type="button" style="font-size: 31px;padding-right: 17px" class="close pull-right"
                  aria-label="Close" (click)="closeImage()">
                  <span aria-hidden="true">&times;</span>
                </button>
                <h5 style="margin: 10px 10px 0px 10px;padding:10px">Community logo Image</h5>
                <hr style="margin-top: 0px;"> -->

                <div class="modal-content">

                  <div style="padding: 14px 14px !important;">
                    <label>Community Logo</label>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="closeImage()">
                      <span style="font-size: 2.5rem;" aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <hr style="margin: 0px !important; padding: 0px !important">
                  <div class="modal-body">
                    <image-cropper [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true"
                      [aspectRatio]="2 / 2" format="jpeg" (imageCropped)="imageCropped($event)"
                      (cropperReady)="cropperReady()" (loadImageFailed)="loadImageFailed()"></image-cropper>
                  </div>
                  <div class="modal-footer trans" style="margin-top: -16px; border-radius: 5px;">
                    <div style="float: right; margin-right: 44px;">

                      <button class="btn primary-btn btn-sm" (click)="imageLoaded()">Apply</button>
                    </div>
                  </div>
                </div>

              </ng-template>
            </div>
          </div>

          <div class="form-group row">
            <label for="businessLogo" class="col-sm-4 control-label font-light">Community Banner Image</label>
            <div class="col-sm-7">
              <ng-template #templatebanner>
                <!-- <button type="button" style="font-size: 31px;padding-right: 17px" class="close pull-right"
                  aria-label="Close" (click)="closeBannerImage()">
                  <span aria-hidden="true">&times;</span>
                </button>
                <h5 style="margin: 10px 10px 0px 10px;padding:10px">Community Banner Image</h5>
                <hr style="margin-top: 0px;"> -->

                <div class="modal-content">

                  <div style="padding: 14px 14px !important;">
                    <label>Community Banner</label>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="closeBannerImage()">
                      <span style="font-size: 2.5rem;" aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <hr style="margin: 0px !important; padding: 0px !important">
                  <div class="modal-body">
                    <image-cropper [imageChangedEvent]="imageChangedEventbanner" [maintainAspectRatio]="true"
                      [aspectRatio]="4.5 / 1" format="jpeg" (imageCropped)="imageCroppedBanner($event)"
                      (cropperReady)="cropperReady()" (loadImageFailed)="loadImageFailed()"></image-cropper>
                  </div>
                  <div class="modal-footer trans" style="margin-top: -16px;     border-radius: 5px;">
                    <div style="float: right; margin-right: 44px;">

                      <button class="btn primary-btn btn-sm" (click)="imageLoadedbanner()">Apply</button>
                    </div>
                  </div>
                </div>

              </ng-template>

              <input formControlName="bannerimg" accept="image/jpg, image/jpeg, image/png" type="file"
                class="form-control  fs-file" id="communityBanner"
                (change)="fileChangeEventbanner($event,templatebanner)" #myFileInput1
                (click)="myFileInput1.value=null" />
            </div>
          </div>


          <div class="form-group row">
            <label for="tags" class="col-sm-4 control-label font-light"> #Tags</label>
            <div class="col-sm-7">
              <!-- <tag-input class=" tag-align input-sm" formControlName="tags"
                       [maxItems]='3'
                        [editable]='true'
                        [modelAsStrings]='true'
                        [placeholder]="placeholder"
                        [secondaryPlaceholder]="secondaryPlaceholder"
                        ></tag-input> -->
              <ng-select [isOpen]="false" [addTag]="true" [multiple]="true" maxSelectedItems="3" addTagText="Add #Tag:"
                bindLabel="name" [closeOnSelect]="true" [hideSelected]="true" placeholder="Options to add 3 #tags only"
                [(ngModel)]="tagSelectedItems" formControlName="tags">
              </ng-select>
              <label><small>Press enter to give multiple #Tags </small></label>

            </div>
          </div>
        </div>
      </div>
      <div class="text-right" style="padding-right: 64px;padding-top: 7px; padding-bottom: 7px;">
        <button type="button" class="btn default-btn btn-sm" (click)="modalRef.hide()">Cancel</button>
        <button style="margin-left:2%;" type="button" class="btn primary-btn btn-sm"
          (click)="updateBasic()">Submit</button>
      </div>
    </div>
  </form>
</ng-template>

<!-- <ng-template #aboutTemplate>
  <div class="hpanel">
    <div class="panel-heading hbuilt" style="border-radius: 5px !important;">
      <div class="row panel-tools">
        <button type="button" class="close pull-left" aria-label="Close" (click)="modalRef.hide()">
          <span style="padding-right: 22px;font-size: 26px;" aria-hidden="true">&times;</span>
        </button>
      </div>
      <label class="control-label padding-top-0 margin-bottom-5 margin-top-5">Brief about your Community</label>
    </div>

    <div class="panel-body">
      <form [formGroup]="aboutForm">
        <div class="row">
          <div class="form-group">
            <div class="col-sm-11" style=" margin-left: 20px;">
              <div formControlName="aboutCommunity" id="aboutCommunity" [ngxSummernote]="config"></div>
              <label><small>Maximum characters allowed is 1000</small></label>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="text-right" style="padding-top: 12px; padding-right: 41px; padding-bottom: 12px;">
      <button type="button" class="btn default-btn btn-sm" (click)="modalRef.hide()">Cancel</button>
      <button style="margin-left:2%;" type="button" id="update" class="btn primary-btn btn-sm"
        (click)="updateAbout()">Submit</button>
    </div>
  </div>
</ng-template> -->



<div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1"
     role="dialog" aria-labelledby="dialog-sizes-name1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="hpanel">
        <div class="panel-heading hbuilt" style="border-radius: 5px !important;">
          <div class="row panel-tools">
            <button type="button" class="close pull-left" aria-label="Close" (click)="lgModal.hide()">
              <span style="padding-right: 22px;font-size: 26px;" aria-hidden="true">&times;</span>
            </button>
          </div>
          <label class="control-label padding-top-0 margin-bottom-5 margin-top-5">Brief about your Community</label>
        </div>
    
        <div class="panel-body">
          <form [formGroup]="aboutForm">
          <div formControlName="aboutCommunity" id="aboutCommunity" [ngxSummernote]="config"></div>
          <div style="color: #c3002f;" *ngIf="aboutForm.controls.aboutCommunity.invalid">
            <div *ngIf="aboutForm.controls.aboutCommunity.errors.maxlength">
              Maximum characters allowed is 1000
            </div>
          </div>
          <div class="col-sm-6">
          </div>
          <div class="col-sm-6 text-right">
            <label><small><span *ngIf="remainingCount===undefined">1000 </span> <span *ngIf="remainingCount!==undefined && remainingCount > 0">{{remainingCount + " "}}</span>
              <span *ngIf="remainingCount <= 0">0 {{" "}}</span>
              characters remaining</small></label>
          </div>
          <!-- <label><small>Maximum characters allowed is 1000</small></label> -->
          </form>
        </div>
        <div class="text-right" style="padding-top: 12px; padding-right: 41px; padding-bottom: 12px;">
          <button type="button" class="btn default-btn btn-sm" (click)="lgModal.hide()">Cancel</button>
          <button style="margin-left:2%;" type="button" id="update" class="btn primary-btn btn-sm" [disabled]="!aboutForm.valid"
            (click)="updateAbout()">Submit</button>
        </div>
      </div>
    </div>
  </div>
</div>




<div bsModal #lgModal1="bs-modal" class="modal fade" tabindex="-1"
     role="dialog" aria-labelledby="dialog-sizes-name1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="hpanel">
        <div class="panel-heading hbuilt" style="border-radius: 5px !important;">
          <div class="row panel-tools">
            <button type="button" class="close pull-left" aria-label="Close" (click)="lgModal1.hide()">
              <span style="padding-right: 22px;font-size: 26px;" aria-hidden="true">&times;</span>
            </button>
          </div>
          <label class="control-label padding-top-0 margin-bottom-5 margin-top-5">Community Guidelines</label>
        </div>
    
        <div class="panel-body">
          <form [formGroup]="guidelineForm">
            <div class="form-group row">
              <div class="col-sm-11" style=" margin-left: 20px;">
                <div formControlName="communityGuidelines" [ngxSummernote]="guidelinesConfig"></div>
                <!-- <label><small>Maximum characters allowed is 4000</small></label> -->
                <div style="color: #c3002f;" *ngIf="guidelineForm.controls.communityGuidelines.invalid">
                  <div *ngIf="guidelineForm.controls.communityGuidelines.errors.maxlength">
                    Maximum characters allowed is 4000
                  </div>
                </div>
                <div class="col-sm-6">
                </div>
                <div class="col-sm-6 text-right">
                  <label><small><span *ngIf="remainingGuidelinesCount===undefined">4000 </span> <span *ngIf="remainingGuidelinesCount!==undefined && remainingGuidelinesCount > 0">{{remainingGuidelinesCount + " "}}</span>
                    <span *ngIf="remainingGuidelinesCount <= 0">0 {{" "}}</span>
                    characters remaining</small></label>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="text-right" style="padding-top: 12px; padding-bottom: 12px; padding-right: 41px;">
          <button type="button" class="btn default-btn btn-sm" (click)="lgModal1.hide()">Cancel</button>
          <button style="margin-left:2%;" type="button" class="btn primary-btn btn-sm"[disabled]="!guidelineForm.valid"
            (click)="updateGuidelines()">Submit</button>
        </div>
      </div>
    </div>
  </div>
</div>




<!-- <ng-template #guidelineTemplate>
  <div class="hpanel">
    <div class="panel-heading hbuilt" style="border-radius: 5px !important;">
      <div class="row panel-tools">
        <button type="button" class="close pull-left" aria-label="Close" (click)="modalRef.hide()">
          <span style="padding-right: 22px;font-size: 26px;" aria-hidden="true">&times;</span>
        </button>
      </div>
      <label class="control-label padding-top-0 margin-bottom-5 margin-top-5">Community Guidelines</label>
    </div>

    <div class="panel-body">
      <form [formGroup]="guidelineForm">
        <div class="form-group row">
          <div class="col-sm-11" style=" margin-left: 20px;">
            <div formControlName="communityGuidelines" [ngxSummernote]="guidelinesConfig"></div>
            <label><small>Maximum characters allowed is 4000</small></label>
          </div>
        </div>
      </form>
    </div>
    <div class="text-right" style="padding-top: 12px; padding-bottom: 12px; padding-right: 41px;">
      <button type="button" class="btn default-btn btn-sm" (click)="modalRef.hide()">Cancel</button>
      <button style="margin-left:2%;" type="button" class="btn primary-btn btn-sm"
        (click)="updateGuidelines()">Submit</button>
    </div>
  </div>
</ng-template> -->