<!-- *ngIf="admindata?.isAdmin" -->
<div class="business-banner-top post-box-shadow">
  <div class="business-banner">
    <div class="banner-shadow"></div>
    <img class="banner-img" [ngStyle]="{'background-image': 'url(' + bannerimg.src + ')'}">
    <div class="banner-overlay">
      <div class="banner-edit" *ngIf="admindata?.isAdmin || admindata?.isSuperAdmin">
        <input type="file" accept="image/jpg, image/jpeg, image/png" #myFileInput
          (change)="fileChangeEvent($event,template)" />
        <div class="image-upload"></div>
        <i class="fa fa-camera" aria-hidden="true"></i>
      </div>
      <div class="banner-profile-image">
        <img class="img-small" src="{{businesslogs.src}}" onerror="this.src='assets/images/gallery/company.png';">
      </div>
    </div>
  </div>

  <div class="row business-details" style="word-wrap: break-word;">
    <div>
      <div class="col-md-7">
        <div class="qwc">
          <strong class="bus-hov business-name" [routerLink]="['/landingPage/business']">Business Page</strong>
        <p class="business-name ellipse1" data-toggle="tooltip" data-placement="top"
          title="{{bannerdata?.businessName}}"> 
          <strong>:</strong>
           {{bannerdata?.businessName }} </p>
        </div>
        <p class="business-tag ellipse" data-toggle="tooltip" data-placement="top" title="{{bannerdata?.tagLine }}">
          {{bannerdata?.tagLine }}</p>

        <!-- | {{bannerdata?.businessName}} -->
        <p class="business-others"> {{industryClass | truncate: 30}} <span *ngIf="bannerdata?.companyLocationDetails">|</span> {{bannerdata?.companyLocationDetails[0].city}}
          {{bannerdata?.companyLocationDetails[0].state}} <span *ngIf="bannerdata?.companyLocationDetails">|</span> <b>
            <a class="website"
              [attr.href]="bannerdata?.companyLocationDetails[0]?.website.includes('http://') ? bannerdata?.companyLocationDetails[0]?.website : 'http://'+bannerdata?.companyLocationDetails[0]?.website"
              target="_blank">{{bannerdata?.companyLocationDetails[0]?.website }}
            </a>
          </b> 
          <span *ngIf="bannerdata?.companyLocationDetails">|</span>
          <b>
            <a *ngIf="admindata?.noOfFollowers>1 || admindata?.noOfFollowers==0" (click)="followers()">
              {{admindata?.noOfFollowers}} Followers </a>
            <a *ngIf="admindata?.noOfFollowers==1" (click)="followers()"> {{admindata?.noOfFollowers}} Follower </a></b>
        </p>
      </div>
      <div class="col-md-5">
        <div class="row mt-8px right">
          <button type="button" *ngIf="admindata?.isAdmin" class="btn primary-btn btn-sm margin-right-20"
            (click)="adminview(true)"> View as Admin</button>
          <button type="button" *ngIf="viewasmembers" class="btn primary-btn btn-sm  margin-right-20"
            (click)="viewasmember(false)"> View as Member</button>

          <button type="button" (click)="sendEmployeeRequest()"
            *ngIf=" !admindata?.isAdmin && !admindata?.isSuperAdmin && admindata?.isEmployeeRequestRejected"
            class="btn secondary-btn btn-sm m-r-10"> Send Employee Request </button>

          <button type="button" disabled
            *ngIf=" !admindata?.isAdmin && !admindata?.isSuperAdmin && admindata?.isEmployeeRequestSent"
            class="btn secondary-btn btn-sm mr-fn"> Employee Request Sent </button>

          <button type="button" *ngIf=" !admindata?.isAdmin && !admindata?.isSuperAdmin && admindata?.isFollowerInvited"
            class="btn primary-btn btn-sm m-r-10" (click)="acceptFollowerRequest()"> Accept Follow Request </button>

          <button type="button" *ngIf=" !admindata?.isAdmin && !admindata?.isSuperAdmin && admindata?.isFollowerInvited"
            class="btn primary-btn btn-sm m-r-10" (click)="rejectFollowerRequest()"> Reject Follow Request </button>
          <button type="button"
            *ngIf=" !admindata?.isAdmin && !admindata?.isSuperAdmin && !admindata?.isFollow && !admindata?.isFollowerInvited"
            (click)="addfollower()" class="btn primary-btn btn-sm"> Follow </button>
          <button type="button" *ngIf="!admindata?.isAdmin && !admindata?.isSuperAdmin && admindata?.isFollow"
            (click)="removefollower()" class="btn  primary-btn  btn-sm"> Unfollow </button>
          <button type="button" *ngIf="!admindata?.isAdmin && !admindata?.isSuperAdmin " (click)="mgsBtn()"
            class="btn  primary-btn  btn-sm ml-10"> Message </button>

        </div>
      </div>

    </div>
  </div>
</div>

<ng-template #template>
  <!-- <div class="modal-header">
    <h5 class="modal-title pull-left">Banner Image </h5>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div> -->
  <!-- <div class="text-center" > -->
  <button type="button" style="font-size: 31px;padding-right: 17px;padding-top: 7px;" class="close pull-right"
    aria-label="Close" (click)="closePhoto()">
    <span aria-hidden="true">&times;</span>
  </button>
  <h5 style="margin: 10px 10px 10px 10px;padding-top:10px">Banner Image</h5>
  <hr>
  <!-- </div> -->
  <div class="modal-body">
    <image-cropper [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true" [aspectRatio]="4.5 / 1"
      format="jpeg" (imageCropped)="imageCropped($event)" (cropperReady)="cropperReady()"
      (loadImageFailed)="loadImageFailed()"></image-cropper>
  </div>


  <div class="modal-footer" style="border-radius: 5px !important;">
    <button class="btn primary-btn btn-sm m-r-18" (click)="imageLoaded()">Apply</button>
  </div>

</ng-template>
