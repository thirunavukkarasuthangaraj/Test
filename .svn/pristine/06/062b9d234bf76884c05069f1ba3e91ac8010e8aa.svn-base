<div class="row margin-0">
  <div class="col-md-12 padding-left-0 padding-right-0 margin-bottom-5" [class.sticky-nav]="landingsidesticky1" #landingside1>
    <div class="bg">

      <div class="navMain">
        <div class="navIteam1">
          <h4>Business : <span> {{businessdetail?.length}}</span></h4>
        </div>
        <div class="navIteam2">
          <div class="input-group f-l">
            <!-- <input type="text" class="form-control input-sm"  (keyup)="keyupdata($event)" (keyup.enter)="onsearch(bname)"  placeholder="Search Business"
              aria-label="Amount (to the nearest dollar)" name="searchadmin" id="searchadmin" [(ngModel)]="bname"/>
             <span class="input-group-addon"  (click)="onsearch(bname)" id="my_btn" ><i class="pe-7s-search"    ></i></span> -->

             <input type="text" class="form-control input-sm"  placeholder="Search Business"
              aria-label="Amount (to the nearest dollar)" name="searchadmin" id="searchadmin" [(ngModel)]="searchKey"/>
             <span class="dummyBtn"></span>

          </div>
        </div>
        <div class="navIteam3">
          <button class="btn btn-default btn-sm" (click)="BusniessCreatePage()">
            <span class="mr-5"> </span> Create Business
          </button>
        </div>
        <div class="navIteam">
          <div class="btn-group btn-group-sm" dropdown>
             <button type="button" class="btn primary-btn  btn-sm" (click)="onsearch('')">{{btnnameshow }}</button>
            <button  id="button-animated" dropdownToggle   type="button" class="btn primary-btn  btn-sm leftview  dropdown-toggle"
              dropdownToggle data-toggle="dropdown">
              <span><i class="pe-7s-filter"></i></span>
            </button>
              <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu"
                role="menu" aria-labelledby="button-animated">
                <li role="menuitem"><a class="dropdown-item" (click)="sort_by_key('all')">All  </a></li>
                <li role="menuitem"><a class="dropdown-item" (click)="sort_by_key('admin')">Admin</a></li>
                <li role="menuitem"><a class="dropdown-item" (click)="sort_by_key('superadmin')">SuperAdmin</a></li>
             </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
<!-- </div>

<div>
  <div class="row"> -->
    <div class="col-sm-70 col-md-70 col-lg-70 padding-left-0 padding-right-5" *ngIf="businessdetail?.length==0" >
      <app-nodata-found [title]="noDatafound" ></app-nodata-found>
   </div>

    <div class="col-sm-70 col-md-70 col-lg-70 padding-left-0 padding-right-0"  *ngIf="businessdetail?.length!=0">
      <!-- <div class="row mt-5"> -->
        <div class="col-sm-12 col-md-6 col-lg-4  padding-left-0 padding-right-5" style="margin-bottom: 5px!important;" *ngFor="let data of businessdetail | customFilter:{businessName:searchKey}:false ; let i = index;">
          <app-business-card [BusinessDataInput]="data" (onUnfollow)="onUnfollow($event)"></app-business-card>
        </div>
      <!-- </div> -->
    </div>
    <div class="col-sm-30 col-md-30 col-lg-30 padding-left-0 padding-right-0">
      <div class="">
        <app-common-widget [page]="'BUSINESS_LANDING_HOME_PAGE'" [inputData]="'BUSINESS'" [hideCompelte]="'LandingBusiness'" [userType]=userType></app-common-widget>
      </div>
    </div>
  </div>
<!-- </div> -->

<div *ngIf="isModalShown" [config]="backdropConfig" (onHidden)="onHidden()" bsModal #autoShownModal="bs-modal"
  class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-auto-name">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- <div style="margin-right: 2rem; margin-top: 1rem">
        <button type="button" style="font-size: 27px; margin-right: -8px" class="close pull-right" aria-label="Close"
          (click)="hideModal()">
          <span aria-hidden="true">&times;</span>
        </button>
        <h5 style="margin: 0px 0px 10px 14px; padding-top: 10px">
          Select Business Page
        </h5>
      </div>
      <hr style="margin-top: 0px" /> -->

      <div style="    padding: 14px 14px !important;">
        <label>Select Business Page</label>
        <button type="button" class="close pull-right" aria-label="Close" (click)="hideModal()">
          <span style="font-size: 2.5rem; position: relative; top: -0.5rem;" aria-hidden="true">&times;</span>
        </button>
      </div>
      <hr style="margin: 0px !important; padding: 0px !important">


      <div class="modal-body" style="padding: 22px">
        <p>
          Please choose one of your current organizations from the dropdown to
          create Business Page for
        </p>
        <br />
        <div>
          <form [formGroup]="chooseBusinessPage">
               <div class="form-group col-sm-8">

                <!-- <select class="form-control input-sm" formControlName="organizationName">
                  <option [value]="null" selected disabled>
                    Choose the organization
                  </option>
                  <option  style=" font-size: small;" *ngFor="let org of organizationList" [value]="org.organizationId">
                    <span > {{ org.organizationName }} </span>
                    <span *ngIf="org.city.length!=0">,{{ org.city }}</span>
                    <span *ngIf="org.state.length!=0">,{{ org.state }}</span>
                    <span *ngIf="org.zipCode.length!=0">,{{ org.zipCode }}</span>
                  </option>
                </select> -->

                <input placeholder="Select Organization Name" class="form-control input-sm max-hight"
                formControlName="organizationName"
                (input)="clear()"
                 [typeahead]="organizationList"
                 (typeaheadOnSelect)="onselecte($event)"
                  [typeaheadMinLength]="0" typeaheadOptionField="organizationName"
                 [typeaheadItemTemplate]="customItemTemplate" autocomplete="off" >

            <ng-template #customItemTemplate let-model="item" style="width: 41rem !important;">
                <span>
                    <strong style="font-size: 14px;">
                        {{model.organizationName}}
                    </strong>
                    <br>
                    <!-- Italicized location details -->


                    <i *ngIf="model.address1 || model.address2">
                      <small>
                          {{model.address1 }}<span *ngIf="model.address1 && model.address2">{{", "}}</span>
                          {{model.address2}}
                       </small>
                   </i>

                   <br *ngIf="model.address1 || model.address2">

                    <i>
                        <small>
                            {{model.street }}<span *ngIf="model.street">{{", "}}</span>
                            {{model.city}}<span *ngIf="model.city">{{", "}}</span>
                            {{model.state}}<span *ngIf="model.state">{{", "}}</span>
                            {{model.country}}<span *ngIf="model.country">{{", "}}</span>
                            {{model.zipCode}}
                        </small>
                    </i>
                </span>
            </ng-template>


                <div class="error-msg red" *ngIf="formValidity && controlOfForms.organizationName.errors">
                  <div *ngIf="controlOfForms.organizationName.errors.required">
                    Please choose the organization
                  </div>
                </div>
              </div>
           </form>

          <div class="row">
            <div class="rowchange">
              <button style="margin-right: 5px" (click)="onHidden()" class="btn secondary-btn btn-sm float">
                Cancel
              </button>
              <button (click)="navigate()"     style="margin-right: 10px" class="btn primary-btn btn-sm float">
                Continue
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
